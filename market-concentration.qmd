---
title: "Market Concentration"
---

```{r}
#| label: setup
#| include: false

library(dplyr)

data_url <- "https://cdn.jsdelivr.net/gh/vehicletrends/data@main/data/hhi_make.csv"
hhi_data <- read.csv(data_url)
```

::: {.panel-tabset}

## Charts

```{r}
#| echo: false

htmltools::tags$iframe(
  src = 'https://019ba305-5eb9-798a-0dd9-7a01ccfc937f.share.connect.posit.cloud/',
  width = "100%",
  height = "800",
  scrolling = "no",
  seamless = "seamless",
  frameBorder = "0"
)
```

## Data

<center>
[Download data](https://cdn.jsdelivr.net/gh/vehicletrends/data@main/data/hhi_make.csv)

<div style="width:700px">

```{r}
hhi_data |>
  mutate(
    hhi = round(hhi, 3),
    median = round(median, 3),
    q25 = round(q25, 3),
    q75 = round(q75, 3),
    lower = round(lower, 3),
    upper = round(upper, 3)
  ) |>
  rename(
    Year = year,
    Powertrain = powertrain,
    Make = make,
    HHI = hhi,
    Median = median,
    Q25 = q25,
    Q75 = q75,
    Lower = lower,
    Upper = upper
  ) |>
  reactable::reactable(
    searchable = TRUE,
    highlight = TRUE,
    filterable = TRUE,
    defaultPageSize = 10,
    showPageSizeOptions = TRUE,
    pageSizeOptions = c(5, 10, 25, 50)
  )
```

</div>
</center>

## About HHI

This section explains the Herfindahl-Hirschman Index (HHI) and its relevance to market concentration analysis.

See [Understanding HHI](hhi-explained.qmd) for more details.

:::
